# Переменные окружения
Создайте файл .env по примеру .env.example

# Установка пакетов
pip install -r requirements.txt

# Запуск обслуживающих сервисов
Введите docker-compose up -d в корне проекта.

# Запуск приложения
python3 main.py  
Для применения миграций добавьте флаг --migration-on.  

# Запуск обслуживающих сервисов для тестирования
Введите docker-compose up -d в директории src/tests.

# Запуск тестов
pytest test.py


# Взаимодействие с приложением

Перейдите по адресу http://localhost:8080/docs.  

## Регистрация
POST /register

Введите логин и пароль.
В базу данный добавится запись о новом пользователе.

## Авторизация

Для авторизации нажмите на кнопку Authorize в правом верхнем углу. После успешного входа станут доступны все ресурсы.

## Информация о файлах
GET /files/  
Доступно только авторизованному пользователю

## Загрузка файла в бакет

POST /files/upload  

Также доступно только после авторизации.
Добавьте файл, который вы хотите загрузить.
Опционально можно указать новый путь с промежуточными директориями и другое название файла.

## Скачивание файла

GET /files/download  
Доступно только авторизованному пользователю.

Можно указать либо путь до файла в бакете, либо его ID. Всю информацию о файлах можно узнать, используя GET /files/  

Получение файлов происходит через nginx.
Для проверки работоспособности перейдите по адресу
http://localhost:80/<file-name>.  

## Проверка доступности сервисов
GET /ping

Вернет время доступа к базе данных, бакету и кэшу.